<header class="main-header">
    <div *ngIf="errorSalaries" class="alert alert-danger alert-dismissible fade in" role="alert"  style='position: absolute;' >
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorSalariesMessages()'>
            <span aria-hidden="true"></span>
        </button>
        <p>Votre limite de salariés a été atteinte. Vous utilisez <span>{{salariesUsed}}/{{salariesMaxPossible}} comptes salariés disponibles.</span></p>
    </div>
    <div *ngIf="errorLoad" class="alert alert-danger alert-dismissible fade in" role="alert" style='position: fixed;' >
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
            <span aria-hidden="true"></span>
        </button>
        <p>SAFETY: <span>{{errorLoad}}</span></p>
    </div>

    <h1>Création d’un salarié</h1>
    <img *ngIf="loading" style='position: absolute; left:49.3%; bottom:15%;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
</header>
<div class="main-content" style="padding-top: 12px;" #createSalary2>
    <form #site_newEmployee2Form="ngForm"  novalidate  class="profil-form" (click)='cancellSuccessMessage()'
          (ngSubmit)="submitModifyEtap1Form()">
        <h2>Etape 2</h2>
        <div class="one-column-input-wrapper">
            <div class="input-wrapper">
                <p [hidden]="name.invalid" class="requred-field color-valid">Nom*</p>
                <input type="text" class="form-control"  placeholder="Nom*"
                        #name="ngModel" id="name" name='name' required [(ngModel)]="employees.name" />
                <p [hidden]="name.valid || name.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="surname.invalid" class="requred-field color-valid">Prenom*</p>
                <input type="text" class="form-control" placeholder="Prenom*"
                        #surname="ngModel" id="surname" name='surname' required [(ngModel)]="employees.surname" />
                <p [hidden]="surname.valid || surname.untouched " class="requred-field ">Champs requis</p>
            </div>
        </div>
        <div class="one-column-input-wrapper">
            <div class="input-wrapper">
                <p [hidden]="email.invalid" class="requred-field color-valid">Email</p>
                <input type="email" class="form-control"  placeholder="Email"
                       #email="ngModel" id="email" name='email' required email [(ngModel)]="employees.email" />
                <p [hidden]="email.valid || email.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="post.invalid" class="requred-field color-valid">Poste</p>
                <input type="text" class="form-control"  placeholder="Poste"
                       #post="ngModel" id="post" name='post' required [(ngModel)]="employees.post" />
                <p [hidden]="post.valid || post.untouched " class="requred-field ">Champs requis</p>
            </div>
        </div>
        <div class="one-column-input-wrapper">

            <div class="calendar-wrapper clearfix">
                <p class="form-label" style="font-family:'Open Sans',sans-serif;
                                            font-size:14px;
                                            padding-left:10px;
                                            padding-top:10px;">Date de naissance*</p>
                <input type="text" class="datepicker-default"
                       #birthDate="ngModel" id='birthDate' name='birthDate'  [(ngModel)]="employees.birthDate"/>
                <p [hidden]=" birthDate.valid || birthDate.untouched " class="requred-field ">Champs requis</p>
                <div class="clearfix"></div>  <!--#birthDate="ngModel"  [(ngModel)]="employees.birthDate"-->
            </div>

            <div class="input-wrapper" style="margin-bottom: 15px;">
                <p [hidden]="numSecu.invalid" class="requred-field color-valid">N° sécu*</p>
                <input type="text" class="form-control"  placeholder="N° sécu*"
                       #numSecu="ngModel" id="numSecu" name='numSecu' required [(ngModel)]="employees.numSecu" />
                <p [hidden]="numSecu.valid || numSecu.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="clearfix"></div>
            <p class="form-subheader">Photo</p>
            <div class="profile-img-wrapper">
                <img src="../../../../../assets/img/progile_image.jpg" alt="progile_image">
            </div>

            <p class="form-subheader clearfix" style='margin: 14px 0 -4px 0;'>Groupe de salariés</p>
            <img *ngIf="loadingGroupes" style='left:18%; bottom: 1%;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" /><br>
            <div *ngIf='!loadingGroupes' class="radio-btn-block">
                <div *ngFor="let groupe of employeeGroupes" class="radio" >
                    <input type="radio"   id={{groupe.id}} name="employeeGroup"
                           [(ngModel)]="employees.employeeGroup" [value]="groupe.id"
                           [checked]='checkedGroupFromEtap1==groupe.id'>  <!-- checked={{groupe.booleanValue}}-->
                    <label for={{groupe.id}} class="radio-label">{{groupe.id}} {{groupe.name}}</label>
                </div>
            </div>

            <button type="submit" class="form-button green-button modifier-button"
                    [disabled]="!(site_newEmployee2Form.form.valid)">Modifier</button>
            <div *ngIf="successCreating" style='position: fixed;' class="alert alert-success">{{successCreating}}</div>

        </div>
        <div class="one-column-input-wrapper">
            <div>
                <p class="form-label" style="font-family:'Open Sans',sans-serif;
                                            font-size:14px;
                                            padding-left:10px;
                                            padding-top:10px;">Période de validité :
                    <span>{{employees.validityPeriod | validityPeriod}}</span>
                </p>
            </div>
        </div>
    </form>
        <div class="form-divider clearfix" style='margin: 1px 0 15px 0;'></div>

    <!-- N E X T   F O R M -->

    <form #site_newEmployee3DatesAutorisationsForm="ngForm"  novalidate  class="profil-form" (click)='cancellSuccessMessage()'
          (ngSubmit)="submitDatesAutorisationsForm(site_newEmployee3DatesAutorisationsForm)">
        <div class="one-column-input-wrapper">
            <p class="form-subheader">Visite médicale</p>
            <div class="calendar-wrapper clearfix" style='padding-top: 9px !important;' >
                <p class="form-label" style="font-family:'Open Sans',sans-serif;
                                            font-size:14px;
                                            padding-left:10px;
                                            padding-top:10px;">Date*</p>
                <input type="text" class="datepicker-default"
                       #visiteMedicale="ngModel" id='visiteMedicale' name='visiteMedicale'  [(ngModel)]="visites.medicalVisitDateExpires"/>
                <img *ngIf="loadingDatesAutorisations" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" style='margin-left: 20%;' />
            </div>
        </div>

        <div class="form-divider clearfix" style='margin-bottom: 6px;'></div>
        <div class="one-column-input-wrapper"  style='padding-top: 12px !important;'>
            <p class="form-subheader">CACES</p>
            <div class="calendar-wrapper clearfix" style='margin-top: 2px !important;' >
                <p class="form-label" style="font-family:'Open Sans',sans-serif;
                                            font-size:14px;
                                            padding-left:10px;
                                            padding-top:10px;">Date*</p>
                <input type="text" class="datepicker-default"
                       #caces="ngModel" id='caces' name='caces'  [(ngModel)]="visites.cacesDateExpires"/>
                <img *ngIf="loadingDatesAutorisations" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" style='margin-left: 10%;' />
            </div>

            <p class="form-label" style='display: inline-block; width: auto; float: left;'>Fishier *</p>

             <div class="input-wrapper" style='display: inline-block; width: auto;  float: right; margin-right: 12px;'>
                <div class="image-upload"  style='display: inline-block !important;'>
                    <p>{{uploadFileText}}</p>
                    <label for="file-input">
                        <span></span>
                    </label>
                    <input id="file-input" type="file"
                           (change)="fileChange($event)"
                           accept=".jpg, .jpeg, .bmp, .png, .JPG, .JPEG"/>
                    <img *ngIf='loadingFile' style='position:absolute; bottom:12px; right:50px; width: 16px;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

                    <span *ngIf='uploadedFile' class="loading_ok"></span>
                </div>
            </div>
        </div>

        <div class="form-divider clearfix" style='margin: -1px 0 15px 0;'></div>
        <div class="form-divider clearfix" style='margin: -1px 0 15px 0;'></div>
        <div class="search-panel clearfix">
            <p>
              <span>Attestations / Habilitations</span>
              <img *ngIf="loadingAttestations" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" style='position: absolute; left: 10%;' />
            </p>


            <button type="button" class="add-an-item-button" (click)="attestModal.open();"></button>

            <!-- M O D A L -->

        </div>
        <div class="table-wrapper">
            <table class="table-default attestations-de-formation-table">
                <thead>
                <tr>
                    <th *ngFor="let header of headers"  (click)="tableSortService._changeSorting(header.variable, $event);
                                                                getSortingTarget();
                                                                getAttestations(this.sortingTarget);">
                        <button [class]="tableSortService.selectedClass(header.variable)" ></button>
                        {{header.display}}
                    </th>
                    <th style='cursor:default;'>
                        <span>Date de délivrance</span>
                    </th>
                    <th style='cursor:default;'>
                        <span>Date d’expiration</span>
                    </th>
                    <th>
                        <span>Action</span>
                    </th>
                </tr>
                </thead>
                <tbody>
                    <tr *ngIf='emptyTable'>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                        <td>-</td>
                    </tr>

                    <tr *ngFor="let employeeAttestation of employeeAttestations">
                        <td>{{employeeAttestation.name}}</td>
                        <td>{{employeeAttestation.dateIssue | date:'MM/dd/y'}}</td>
                        <td>{{employeeAttestation.dateExpires | date:'MM/dd/y'}}</td>
                        <td>
                            <a href="javascript:void(0);" (click)='attestModal.open(); getAttestForUpdateFunction(employeeAttestation.id)'>
                                Modifier
                            </a>
                            /
                            <a href="javascript:void(0);" (click)='deleteAttestFunction(employeeAttestation.id)'>
                              Supprimer
                            </a>
                        </td>
                    </tr>

                </tbody>
            </table>
        </div>
        <div class="form-divider clearfix"></div>
        <div class="search-panel clearfix">
            <p><span>Autorisations de conduite</span></p>
            <button type="button" class="add-an-item-button" (click)="autorModal.open()"></button>

            <!-- M O D A L -->

        </div>
        <div class="table-wrapper">
            <table class="table-default attestations-de-conduite-table">
                <thead>
                <tr>
                    <th><button class="sort-button-true"></button>Nom</th>
                    <th>
                        <span>Action</span>
                    </th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>Nom du fichier</td>
                    <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
                </tr>
                <tr>
                    <td>Le nom du fichier fait max 35 lettres...</td>
                    <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
                </tr>
                </tbody>
            </table>
        </div>
    </form>
    <div class="button-wrapper">
        <button type="button" class="form-button red-button annuler-button" (click)='gotoSalariesPage()'>Annuler</button>
        <button type="submit" class="form-button green-button sauvegarder-button"
                (click)='submitDatesAutorisationsForm()'>Sauvegarder</button>
        <!--[disabled]="!(site_newEmployee3DatesAutorisationsForm.form.valid)"-->
    </div>
</div>

<modal-attest #attestModal style='min-width: 454px; max-width: 454px;' tabindex="-1" class='attestation-habilitation-modal'>
    <modal-header-SSAtt>
        <h2>Attestation de formation</h2>
    </modal-header-SSAtt>

    <modal-content-SSAtt>
        <form  #site_AttestationForm="ngForm"  novalidate class="modal-form" (click)='cancellSuccessMessage()'>
            <div class="input-wrapper">
                <p [hidden]="attest_name.invalid" class="requred-field color-valid">Nom*</p>
                <input type="text" class="form-control"  placeholder="Nom*"
                       #attest_name="ngModel" id="attest_name" name='attest_name' required [(ngModel)]="attestation.name" />
                <p [hidden]="attest_name.valid || attest_name.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="calendar-wrapper clearfix">
                <div class="clearfix"></div>
                <p>Date de délivrance*</p>
                <input type="text" class="datepicker-default"
                       #attest_dateDelivrance="ngModel" id='attest_dateDelivrance' name='attest_dateDelivrance' [(ngModel)]="attestation.dateIssue"/>
                <div class="clearfix"></div>
            </div>
            <div class="calendar-wrapper clearfix">
                <div class="clearfix"></div>
                <p>Date d’expiration*</p>
                <input type="text" class="datepicker-default"
                       #attest_dateExpir="ngModel" id='attest_dateExpir' name='attest_dateExpir' [(ngModel)]="attestation.dateExpires"/>
                <div class="clearfix"></div>
            </div>
            <div class="autres-fichiers-wrapper clearfix">
                <p class="form-subheader">Fichier</p>
                <div class="image-upload">
                    <p>Parcourir...</p>
                    <label for="file-input2">
                        <span></span>
                    </label>
                    <input id="file-input2" type="file">
                </div>
            </div>
        </form>
    </modal-content-SSAtt>

    <modal-footer-SSAtt>
        <div *ngIf="errorCreating" style='position: fixed;' class="alert alert-danger">{{errorCreating}}
            <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
                <span aria-hidden="true"></span>
            </button>
        </div>
        <div *ngIf="successCreating" style='position: fixed;' class="alert alert-success">{{successCreating}}</div>

        <div class="button-wrapper">
            <button type="button" class="form-button red-button annuler-button" data-dismiss="modal"
                    (click)="attestModal.close()">Close</button>
            <button type="submit"  class="form-button green-button enregistrer-button pull-right" data-dismiss="modal"
                    (click)='submitAttestationForm(attest_name.value, attest_dateDelivrance.value, attest_dateExpir.value)'
                    [disabled]="!site_AttestationForm.form.valid">{{saveButtonCaptionAttest}}</button>
        </div>
        <img *ngIf="creatingAttest" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
    </modal-footer-SSAtt>
</modal-attest>



<modal-autor #autorModal style='min-width: 454px; max-width: 454px;' tabindex="-1" class='autorisation-de-conduite-modal'>
    <modal-header-SSAut>
        <h2>Autorisation de conduite</h2>
    </modal-header-SSAut>

    <modal-content-SSAut>

        <form action="/" class="modal-form">
            <p class="form-subheader">Type</p>

            <span class="caret"></span>
            <div class="select-wrapper" style="margin-bottom: 24px;">
                <select name="role" [(ngModel)]="activeSelect"  (change)="ShowType(activeSelect)">
                  <option *ngFor="let type of TypeM" [value]="type.value">
                        {{type.display}}
                    </option>
                </select>
            </div>



          <!--<span class="caret"></span>-->
          <!--<div class="select-wrapper">-->
            <!--<select name="role" [(ngModel)]="activeSelect"  (change)="ShowType(activeSelect)">-->
              <!--<option *ngFor="let type of TypeM" [value]="type.value">-->
                <!--{{type.display}}-->
              <!--</option>-->
            <!--</select>-->
          <!--</div>-->
          <!--<div *ngIf="activeSelect==='chariotsElevateurs'">-->
            <!--hello 1-->
          <!--</div>-->
          <!--<div *ngIf="activeSelect==='gruesMobiles'">-->
            <!--hello 2-->
          <!--</div>-->
          <!--<div *ngIf="activeSelect==='grues'">-->
            <!--hello 3-->
          <!--</div>-->

            <div class="tabbable">

                <button class="form-button green-button ok-button pull-right">Ok</button>
                <div class="clearfix"></div>

                <div class="tab-content" style="min-height: 360px;">
                  <div *ngIf="activeSelect==='3' "class="control-group">
                    <p class="form-subheader">VL</p>
                  </div>


                  <div *ngIf="activeSelect==='4'" class="control-group">
                    <p class="form-subheader">PL</p>
                  </div>


                  <div *ngIf="activeSelect==='5'" class="control-group">
                    <p class="form-subheader">Remorque</p>
                  </div>


                  <div *ngIf="activeSelect==='6'" class="control-group">
                    <p class="form-subheader">Chariots élévateurs R.389</p>
                    <br><br><br>
                    <label class="control control--checkbox">Catégorie 1 : transpalette à conducteur porté
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 2 : tracteur ou porteur cap. max. 6t
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 3 : porte-à-faux cap. max. 6t
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 4 : porte-à-faux cap. + 6t
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 5 : mât rétractable
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 6 : conduite hors production
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Complément de formation engins spéciaux (5+)
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                  </div>


                  <!--"7": {-->
                  <!--"20": "Catégorie 1/A : stabilisée, élévation verticale",-->
                  <!--"21": "Catégorie 1/B : stabilisée, élévation multidirectionnelle",-->
                  <!--"22": "Catégorie 2/A : sur véhicule roulant, élévation verticale",-->
                  <!--"23": "Catégorie 2/B : sur véhicule roulant, élévation multidirectionnelle",-->
                  <!--"24": "Catégorie 3/A : automotrice, élévation verticale",-->
                  <!--"25": "Catégorie 3/B : automotrice, élévation multidirectionnelle"-->
                  <!--},-->
                  <div *ngIf="activeSelect==='7'" class="control-group">
                    <p class="form-subheader">PEMP (nacelle) R.386</p>
                    <br><br><br>
                    <label class="control control--checkbox">Catégorie 1/A : stabilisée, élévation verticale
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 1/B : stabilisée, élévation multidirectionnelle
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 2/A : sur véhicule roulant, élévation verticale
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 2/B : sur véhicule roulant, élévation multidirectionnelle
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 3/A : automotrice, élévation verticale
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 3/B : automotrice, élévation multidirectionnelle
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                  </div>


                  <!--"8": {-->
                  <!--"26": "Cabine",-->
                  <!--"27": "Conduite au sol : filaire, télécommande, radiocommande"-->
                  <!--},-->
                  <div *ngIf="activeSelect==='8'" class="control-group">
                    <p class="form-subheader">Ponts roulants R.318/423</p>
                    <br><br><br>


                          <!--<label class="control control&#45;&#45;checkbox">Cabine-->
                            <!--<input type="checkbox" name="check26" [(ngModel)]="check26" (change)='check26Clicked($event)'>-->
                            <!--<span class="control__indicator"></span>-->
                          <!--</label>-->
                          <!--<label class="control control&#45;&#45;checkbox">Conduite au sol : filaire, télécommande, radiocommande-->
                            <!--<input type="checkbox" name="check27" [(ngModel)]="check27" (change)='check27Clicked($event)'>-->
                            <!--<span class="control__indicator"></span>-->
                          <!--</label>-->

                    <!--<th *ngFor="let header of headers"  (click)="tableSortService._changeSorting(header.variable, $event);-->
                                                                <!--getAttestations(this.sortingTarget);">-->
                      <!--<button [class]="tableSortService.selectedClass(header.variable)" ></button>-->
                      <!--{{header.display}}-->
                    <!--</th>-->

                      <label *ngFor="let type of typesDrivingLicenses_8" class="control control--checkbox">{{type.display}}
                          <input type="checkbox" id={{type.id}} name={{type.id}} (change)='addSubcategory($event); false'>
                          <span class="control__indicator"></span>
                      </label>
                  </div>


                  <!--"9": {-->
                  <!--"28": "Catégorie 1 : tracteurs et petits engins de chantier mobiles",-->
                  <!--"29": "Catégorie 2 : engins d’extraction et/ou de chargement à déplacement séquentiel",-->
                  <!--"30": "Catégorie 3 : engins d’extraction à déplacement alternatif",-->
                  <!--"31": "Catégorie 4 : engins de chargement à déplacement alternatif",-->
                  <!--"32": "Catégorie 5 : engins de finition à déplacement lent",-->
                  <!--"33": "Catégorie 6 : engins de réglage à déplacement alternatif",-->
                  <!--"34": "Catégorie 7 : engins de compactage à déplacement alternatif",-->
                  <!--"35": "Catégorie 8 : engins de transport ou d’extraction-transport",-->
                  <!--"36": "Catégorie 9 : engins de manutention",-->
                  <!--"37": "Catégorie 10 : conduite hors production"-->
                  <!--},-->
                  <div *ngIf="activeSelect==='9'" class="control-group">
                    <p class="form-subheader">Engins de chantier R.372m</p>
                    <br><br><br>
                    <label class="control control--checkbox">Catégorie 1 : tracteurs et petits engins de chantier mobiles
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 2 : engins d’extraction et/ou de chargement à déplacement séquentiel
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 3 : engins d’extraction à déplacement alternatif
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 4 : engins de chargement à déplacement alternatif
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 5 : engins de finition à déplacement lent
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 6 : engins de réglage à déplacement alternatif
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 7 : engins de compactage à déplacement alternatif
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 8 : engins de transport ou d’extraction-transport
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 9 : engins de manutention
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Catégorie 10 : conduite hors production
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                  </div>


                  <div *ngIf="activeSelect==='10'" class="control-group">
                    <p class="form-subheader">Grues auxiliaire R.390</p>
                    <br><br><br>
                  </div>


                  <!--"11": {-->
                  <!--"38": "Grue à montage automatisé conduite au sol",-->
                  <!--"39": "Grue à montage automatisé conduite en cabine",-->
                  <!--"40": "Grue à montage par éléments"-->
                  <!--},-->
                  <div *ngIf="activeSelect==='11'" class="control-group">
                    <p class="form-subheader">Grues à tour R.377m</p>
                    <br><br><br>
                    <label class="control control--checkbox">Grue à montage automatisé conduite au sol
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Grue à montage automatisé conduite en cabine
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Grue à montage par éléments
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                  </div>

                  <div *ngIf="activeSelect==='12'" class="control-group">
                    <p class="form-subheader">Grues mobiles R.383m</p>
                    <br><br><br>
                    <p class="vehicle-type">Type 1 : Routier</p>
                    <br><br><br>
                    <label class="control control--checkbox">Automotrice immatriculée
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Automotrice non immatriculée
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Sur porteur automoteur
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Tractée
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <p class="vehicle-type">Type 2 : Non routier</p>
                    <br><br><br>
                    <label class="control control--checkbox">Sur chenilles
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Sur bandage ou rail
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <label class="control control--checkbox">Sur ponton
                      <input type="checkbox">
                      <span class="control__indicator"></span>
                    </label>
                    <p class="vehicle-type">Equipement</p>
                    <br><br><br>
                    <div class="radio">
                      <input id="radio-101" name="radio1" checked="checked" type="radio">
                      <label for="radio-101" class="radio-label">A - Treillis</label>
                    </div>
                    <div class="radio">
                      <input id="radio-102" name="radio1" checked="" type="radio">
                      <label for="radio-102" class="radio-label">B - Télescopique avec fléchette</label>
                    </div>
                    <div class="radio">
                      <input id="radio-13" name="radio1" checked="" type="radio">
                      <label for="radio-13" class="radio-label">B - Télescopique sans fléchette</label>
                    </div>
                    <div class="radio">
                      <input id="radio-14" name="radio1" checked="" type="radio">
                      <label for="radio-14" class="radio-label">C - Spécial</label>
                    </div>
                  </div>

                </div>
            </div>
        </form>
    </modal-content-SSAut>

    <modal-footer-SSAut>
        <div class="button-wrapper">
            <button type="submit" class="form-button red-button annuler-button" data-dismiss="modal"
                    (click)="autorModal.close()">Annuler</button>
            <button type="submit" class="form-button green-button enregistrer-button pull-right"
                    (click)='submitCategoryDrivingLicense()'>Enregistrer</button>
        </div>
    </modal-footer-SSAut>
</modal-autor>


