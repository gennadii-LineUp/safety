<header class="main-header">
    <div *ngIf="errorLoad" class="alert alert-danger alert-dismissible fade in" role="alert" style='position: absolute;' >
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
            <span></span>
        </button>
        <p>SAFETY: <span>{{errorLoad}}</span></p>
    </div>
    <h1>Profil</h1>
    <img *ngIf="loading" style='position: absolute; left:49.3%; bottom:15%;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
</header>
<div class="main-content">
    <form  #client_editProfilForm="ngForm"  novalidate  class="profil-form" (click)='cancellSuccessMessage();'
           enctype="multipart/form-data"
           (ngSubmit)="submitNewProfilClientFunction()"  >
        <div class="input-wrapper">
            <p [hidden]="company.invalid" class="requred-field color-valid">Entreprise</p>
            <input  class="form-control" placeholder="Nom*"
                   #company="ngModel" id="company" name='company' required [(ngModel)]="client.company" />
            <p [hidden]="company.valid || company.untouched " class="requred-field ">Champs requis</p>
        </div>
        <div class="input-wrapper">
            <p [hidden]="address.invalid" class="requred-field color-valid">Adresse</p>
            <input  class="form-control" placeholder="Adresse*"
                   #address="ngModel" id="address" name='address' required [(ngModel)]="client.address" />
            <p [hidden]="address.valid || address.untouched " class="requred-field ">Champs requis</p>
        </div>
        <div class="input-wrapper">
            <p [hidden]="postalCode.invalid" class="requred-field color-valid">Code postal</p>
            <input  class="form-control" placeholder="Code postal*"
                   #postalCode="ngModel" id="postalCode" name='postalCode' required [(ngModel)]="client.postalCode" />
            <p [hidden]="postalCode.valid || postalCode.untouched " class="requred-field ">Champs requis</p>
        </div>
        <div class="input-wrapper">
            <p [hidden]="city.invalid" class="requred-field color-valid">Ville</p>
            <input  class="form-control" placeholder="Ville*"
                   #city="ngModel" id="city" name='city' required [(ngModel)]="client.city" />
            <p [hidden]="city.valid || city.untouched " class="requred-field ">Champs requis</p>
        </div>
        <div class="control-group">
            <label class="control control--checkbox">Adresse de facturation si différente
                <input type="checkbox" [checked]='client.billingAddressIfDifferent' (click)='toggleDifferentBillingAddress($event)'
                       #billingAddressIfDifferent id="billingAddressIfDifferent" name='billingAddressIfDifferent'
                        [(ngModel)]="client.billingAddressIfDifferent"/>
                <span class="control__indicator"></span>
            </label>
        </div>
        <div>
            <div class="input-wrapper">
                <p [hidden]="diffName.invalid" class="requred-field color-valid">Nom</p>
                <input  class="form-control"  placeholder="Nom*"  [disabled]='!client.billingAddressIfDifferent'
                       #diffName="ngModel" id="diffName" name='diffName'  [(ngModel)]="client.diffName">
                <p [hidden]="diffName.valid || diffName.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="diffAddress.invalid" class="requred-field color-valid">Adresse</p>
                <input  class="form-control"  placeholder="Adresse*"  [disabled]='!client.billingAddressIfDifferent'
                       #diffAddress="ngModel" id="diffAddress" name='diffAddress'  [(ngModel)]="client.diffAddress" >
                <p [hidden]="diffAddress.valid || diffAddress.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="diffPostalCode.invalid" class="requred-field color-valid">Code postal</p>
                <input  class="form-control"  placeholder="Code postal*"  [disabled]='!client.billingAddressIfDifferent'
                       #diffPostalCode="ngModel" id="diffPostalCode" name='diffPostalCode'  [(ngModel)]="client.diffPostalCode" >
                <p [hidden]="diffPostalCode.valid || diffPostalCode.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="diffCity.invalid" class="requred-field color-valid">Ville</p>
                <input  class="form-control"  placeholder="Ville*"  [disabled]='!client.billingAddressIfDifferent'
                       #diffCity="ngModel" id="diffCity" name='diffCity'  [(ngModel)]="client.diffCity" />
                <p [hidden]="diffCity.valid || diffCity.untouched " class="requred-field ">Champs requis</p>
            </div>
        </div>
        <div class="form-divider clearfix"></div>
        <div>
            <div class="input-wrapper">
                <p [hidden]="email.invalid" class="requred-field color-valid">Email</p>
                <input type="email" class="form-control"  placeholder="Email*"
                       #email="ngModel" id="email" name='email' required email [(ngModel)]="client.email" />
                <p [hidden]="email.valid || email.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="numberSiret.invalid" class="requred-field color-valid">Numéro SIRET</p>
                <input  class="form-control"  placeholder="Numéro SIRET*"
                       #numberSiret="ngModel" id="numberSiret" name='numberSiret' required [(ngModel)]="client.numberSiret" />
                <p [hidden]="numberSiret.valid || numberSiret.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper" style="margin-bottom: 21px;">
                <p [hidden]="phone.invalid" class="requred-field color-valid">Téléphone (example:  +33(0)1-36-94-85-40  ou  01 36 94 85 40)</p>
                <input  class="form-control" placeholder="Téléphone*"
                       #phone="ngModel" id="phone" name='phone' required [(ngModel)]="client.phone" />
                <p [hidden]="phone.valid || phone.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper" style="margin-bottom: 21px;">
                <p [hidden]="rib.invalid" class="requred-field color-valid">RIB (example: GB29 NWBK 6016 1331 9268 19)</p>
                <input  class="form-control"  placeholder="RIB*"
                       #rib="ngModel" id="rib" name='rib' required [(ngModel)]="client.rib" />
                <p [hidden]="rib.valid || rib.untouched " class="requred-field ">Champs requis</p>
            </div>
        </div>
        <div class="form-divider clearfix"></div>
        <!--<div class="one-column-input-wrapper">-->
        <div>
            <div class="input-wrapper">
                <p [hidden]="contactName.invalid" class="requred-field color-valid">Nom du contact</p>
                <input  class="form-control" placeholder="Nom du contact"
                       #contactName="ngModel" id="contactName" name='contactName' required [(ngModel)]="client.contactName" />
                <p [hidden]="contactName.valid || contactName.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="contactPhone.invalid" class="requred-field color-valid">Téléphone du contact</p>
                <input  class="form-control"  placeholder="Téléphone du contact"
                       #contactPhone="ngModel" id="contactPhone" name='contactPhone' required [(ngModel)]="client.contactPhone" />
                <p [hidden]="contactPhone.valid || contactPhone.untouched " class="requred-field ">Champs requis</p>
            </div>
            <div class="input-wrapper">
                <p [hidden]="contactEmail.invalid" class="requred-field color-valid">Email du contact</p>
                <input type="email" class="form-control"  placeholder="Email du contact"
                       #contactEmail="ngModel" id="contactEmail" name='contactEmail' required email [(ngModel)]="client.contactEmail" />
                <p [hidden]="contactEmail.valid || contactEmail.untouched " class="requred-field ">Champs requis</p>
            </div>
        </div>
        <div class="form-divider clearfix"></div>
        <div class="one-column-input-wrapper">
            <div class="input-wrapper">
                <label for="password">Mot de passe</label>
                <input type="password" class="form-control" placeholder="*********"
                       #password="ngModel" id="password" name='password'  [(ngModel)]="client.password" />
            </div>
            <div class="input-wrapper" style="margin-bottom: 10px;">
                <label for="confirmPassword" style="margin-bottom: 2px;">Confirmer le mot de passe</label>
                <input type="password" class="form-control" placeholder="*********"
                       #confirmPassword="ngModel" id="confirmPassword" name='confirmPassword'  [(ngModel)]="client.confirmPassword" />
            </div>
        </div>
        <div class="button-wrapper">
            <p class="control" style="display: inline-block;">Logo
              <img *ngIf='loadingFile' style='bottom: 7%; width: 16px;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
            </p>
            <!--////////////////////////////-->
                <div class="image-upload" style="position: relative;">
                  <!--<p>{{uploadFileText}}</p>-->
                  <label for="file-input">
                      <div id="loadedImg" *ngIf="showImg"
                           [ngStyle]="{'background': 'url(' + imgServer + ') no-repeat'}"></div>
                      <span *ngIf="!showImg"></span>
                  </label>
                  <input id="file-input" type="file"   [disabled]="loadingFile"
                         (change)="fileChange($event)"
                         accept=".jpg, .jpeg, .bmp, .png, .JPG, .JPEG"/>
                  <img *ngIf='loadingFile' style='position:absolute; bottom: 42%; right: 42%; width: 16px;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

                  <span *ngIf='uploadedFile' class="loading_ok"></span>
                </div>
            <!--////////////////////////////////-->
            <button type="submit" class="form-button green-button sauvegarder-button"
                    [disabled]="!client_editProfilForm.form.valid">Sauvegarder</button>
            <button type="button" class="form-button red-button annuler-button"
                    (click)='gotoClientHomePage()'>Annuler</button>
            <img *ngIf="updating" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

            <div *ngIf="errorUpdate" style='position: fixed;' class="alert alert-danger">{{errorUpdate}}</div>
            <div *ngIf="successUpdate" style='position: fixed;' class="alert alert-success">{{successUpdate}}</div>
        </div>
    </form>
</div>
