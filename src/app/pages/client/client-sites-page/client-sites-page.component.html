<img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

<header class="main-header">
    <div *ngIf="errorSalaries" class="alert alert-danger alert-dismissible fade in" role="alert"  style='position: absolute;' >
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
            <span aria-hidden="true"></span>
        </button>
        <p>Votre limite de salariés a été atteinte. Vous utilisez <span>X/X comptes salariés disponibles.</span></p>
    </div>
    <h1>Sites</h1>
</header>

<div class="main-content">
    <div class="search-panel clearfix">

        <button class="add-an-item-button" (click)="myModal.open()"></button>

        <client-sites-modal #myModal>
            <modal-header>
                <h2>Ajouter un site</h2>
            </modal-header>

            <modal-content>
                <form #client_newSitesForm="ngForm" class="modal-form" novalidate (click)='cancellSuccessMessage()'>
                    <!--(ngSubmit)="submitNewSitesFunction(client_newSitesForm)"-->

                    <div class="input-wrapper">
                        <p [hidden]="name.invalid" class="requred-field color-valid">Nom</p>
                        <input class="form-control"  placeholder="Nom*"  type="text"
                               #name="ngModel" id="name" name='name' required (ngModel)="name" />
                        <p [hidden]="name.valid || name.untouched" class="requred-field ">Champs requis</p>
                    </div>
                    <div class="input-wrapper">
                        <p [hidden]="address.invalid" class="requred-field color-valid">Adresse</p>
                        <input class="form-control"  placeholder="Adresse*"  type="text"
                               #address="ngModel" id="address" name='address' required (ngModel)="address" />
                        <p [hidden]="address.valid || address.untouched" class="requred-field ">Champs requis</p>
                    </div>
                    <div class="input-wrapper">
                        <p [hidden]="postalCode.invalid" class="requred-field color-valid">Code postal</p>
                        <input class="form-control"  placeholder="Code postal*"  type="text"
                               #postalCode="ngModel" id="postalCode" name='postalCode' required (ngModel)="postalCode" />
                        <p [hidden]="postalCode.valid || postalCode.untouched" class="requred-field ">Champs requis</p>
                    </div>
                    <div class="input-wrapper">
                        <p [hidden]="city.invalid" class="requred-field color-valid">Ville</p>
                        <input class="form-control"  placeholder="Ville*" type="text"
                               #city="ngModel" id="city" name='city' required (ngModel)="city" />
                        <p [hidden]="city.valid || city.untouched" class="requred-field ">Champs requis</p>
                    </div>
                    <div class="input-wrapper">
                        <div class="image-upload">
                            <p>Image du site</p>
                            <label for="file-input">
                                <span></span>
                            </label>
                            <input id="file-input" type="file"/>
                        </div>
                    </div>
                    <div class="input-wrapper">
                        <p [hidden]="notificationEmails.invalid" class="requred-field color-valid">Email(s) de notification du site</p>
                        <input class="form-control"  placeholder="Email(s) de notification du site*" type="email"
                               #notificationEmails="ngModel" id="notificationEmails" name='notificationEmails' required   (ngModel)="notificationEmails" /><!-- required email -->
                        <p [hidden]="notificationEmails.valid || notificationEmails.untouched" class="requred-field ">Champs requis</p>
                    </div>
                    <div class="table-wrapper">
                        <table class="table-default ajouter-un-site-table">
                            <thead>
                            <tr>
                                <th><button class="single-sort-button"></button>Règle de notification</th>
                                <th>
                                    <span>Siège</span>
                                </th>
                                <th>
                                    <span>Site</span>
                                </th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr>
                                <td>Caces</td>
                                <td>
                                    <div class="control-group">
                                        <label class="control control--checkbox">
                                            <input type="checkbox" checked="checked"
                                                   #cacesSiege="ngModel" id="cacesSiege"
                                                   name='cacesSiege' (ngModel)="cacesSiege" />
                                            <span class="control__indicator"></span>
                                        </label>
                                    </div>
                                </td>
                                <td>
                                    <div class="control-group">
                                        <label class="control control--checkbox">
                                            <input type="checkbox" checked="checked"
                                                   #cacesSite="ngModel" id="cacesSite"
                                                   name='cacesSite' (ngModel)="cacesSite" />
                                            <span class="control__indicator"></span>
                                        </label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Visite médicale</td>
                                <td>
                                    <div class="control-group">
                                        <label class="control control--checkbox">
                                            <input type="checkbox"
                                                   #medicalVisitSiege="ngModel" id="medicalVisitSiege"
                                                   name='medicalVisitSiege' (ngModel)="medicalVisitSiege" />
                                            <span class="control__indicator"></span>
                                        </label>
                                    </div>
                                </td>
                                <td>
                                    <div class="control-group">
                                        <label class="control control--checkbox">
                                            <input type="checkbox"
                                                   #medicalVisitSite="ngModel" id="medicalVisitSite"
                                                   name='medicalVisitSite' (ngModel)="medicalVisitSite" />
                                            <span class="control__indicator"></span>
                                        </label>
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td>Contrôle technique et VGP</td>
                                <td>
                                    <div class="control-group">
                                        <label class="control control--checkbox">
                                            <input type="checkbox" checked="checked"
                                                   #techControlSiege="ngModel" id="techControlSiege"
                                                   name='techControlSiege' (ngModel)="techControlSiege" />
                                            <span class="control__indicator"></span>
                                        </label>
                                    </div>
                                </td>
                                <td>
                                    <div class="control-group">
                                        <label class="control control--checkbox">
                                            <input type="checkbox"
                                                   #techControlSite="ngModel" id="techControlSite"
                                                   name='techControlSite' (ngModel)="techControlSite" />
                                            <span class="control__indicator"></span>
                                        </label>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                    </div>
                </form>
                <div *ngIf="errorCreating" style='position: fixed;' class="alert alert-danger">{{errorCreating}}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div *ngIf="successCreating" style='position: fixed;' class="alert alert-success">{{successCreating}}</div>
            </modal-content>

            <modal-footer>
                <div class="button-wrapper">
                    <button type="button" class="form-button red-button annuler-button" data-dismiss="modal"
                            (click)="myModal.close()"  (click)='gotoClientHomeForm()'>Annuler</button>
                    <button type="submit" class="form-button green-button creer-button" data-dismiss="modal"
                            (click)='submitForm(name.value,  address.value,
                                                    postalCode.value,  city.value,
                                                    notificationEmails.value, cacesSiege.status,
                                                    cacesSite.status,  medicalVisitSiege.status,
                                                    medicalVisitSite.status, techControlSiege.status,
                                                    techControlSite.status)'
                            [disabled]="!client_newSitesForm.form.valid">Créer</button>
                    <br>
                    <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                </div>
            </modal-footer>
        </client-sites-modal>


        <div class="search-wrapper">
            <button class="search-button" type="button"></button>
            <input type="text" class="form-control search-input" placeholder="Rechercher">
        </div>
    </div>
    <div class="table-wrapper">
        <table class="table-default sites-table">
            <thead>
            <tr>
                <th><button class="single-sort-button"></button>Nom du site</th>
                <th>
                    <button class="double-sort-button">
                        <span></span>
                        <span></span>
                    </button>
                    <span>Adresse</span>
                </th>
                <th>
                    <button class="double-sort-button">
                        <span></span>
                        <span></span>
                    </button>
                    <span>Responsable site</span>
                </th>
                <th>
                    <span>Action</span>
                </th>
            </tr>
            </thead>
            <tbody>
            <tr>
                <td>Nom du site 1</td>
                <td>15 route de Vienne 69007 Lyon</td>
                <td>Prénom Nom</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom long, 20 lettres...</td>
                <td>Adresse est trop longue à 35 lettres...</td>
                <td>Nom trop long à 20 le...</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom du site 1</td>
                <td>15 route de Vienne 69007 Lyon</td>
                <td>Prénom Nom</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom long, 20 lettres...</td>
                <td>Adresse est trop longue à 35 lettres...</td>
                <td>Nom trop long à 20 le...</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom du site 1</td>
                <td>15 route de Vienne 69007 Lyon</td>
                <td>Prénom Nom</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom long, 20 lettres...</td>
                <td>Adresse est trop longue à 35 lettres...</td>
                <td>Nom trop long à 20 le...</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom du site 1</td>
                <td>15 route de Vienne 69007 Lyon</td>
                <td>Prénom Nom</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom long, 20 lettres...</td>
                <td>Adresse est trop longue à 35 lettres...</td>
                <td>Nom trop long à 20 le...</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom du site 1</td>
                <td>15 route de Vienne 69007 Lyon</td>
                <td>Prénom Nom</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            <tr>
                <td>Nom long, 20 lettres...</td>
                <td>Adresse est trop longue à 35 lettres...</td>
                <td>Nom trop long à 20 le...</td>
                <td><a href="javascript:void(0);">Gérer / Supprimer</a></td>
            </tr>
            </tbody>
        </table>
    </div>
    <nav aria-label="Page navigation" class="pagination-wrapper">
        <ul class="pagination">
            <li>
                <a href="#" aria-label="Previous" class="prev-link">
                  <span aria-hidden="true">
                    <img src="../../../../assets/img/pagination-arrow.png" alt="pagination-arrow">
                  </span>
                </a>
            </li>
            <li class="active"><a href="javascript:void(0);">1</a></li>
            <li><a href="javascript:void(0);">2</a></li>
            <li><a href="javascript:void(0);">3</a></li>
            <li><a href="javascript:void(0);">...</a></li>
            <li><a href="javascript:void(0);">998</a></li>
            <li><a href="javascript:void(0);">999</a></li>
            <li>
                <a href="javascript:void(0);" aria-label="Next" class="next-link">
                  <span aria-hidden="true">
                    <img src="../../../../assets/img/pagination-arrow.png" alt="pagination-arrow">
                  </span>
                </a>
            </li>
        </ul>
    </nav>
</div>
