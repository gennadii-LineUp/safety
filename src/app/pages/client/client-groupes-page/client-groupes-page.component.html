<header class="main-header">
    <img *ngIf="loading" style='position: absolute; left:49%;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

    <div *ngIf="errorLoad" class="alert alert-danger alert-dismissible fade in" role="alert" style='position: absolute;' >
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
            <span aria-hidden="true"></span>
        </button>
        <p><span>{{errorLoad}}</span></p>
    </div>
    <h1>Groupes de salariés</h1>
</header>
<div class="main-content" *ngIf='loaded'>
    <div class="search-panel clearfix">

        <button class="add-an-item-button" (click)="myModal.open()"></button>

        <client-groupes-modal #myModal>
            <modal-header-CG>
                <h2>Ajouter un groupe</h2>
            </modal-header-CG>

            <modal-content-CG>
                <form #client_newGroupesForm="ngForm" class="modal-form" novalidate (click)='cancellSuccessMessage()' >
                    <!--(ngSubmit)="submitForm(client_newGroupesForm)"-->

                    <div class="input-wrapper">
                        <p [hidden]="name.invalid" class="requred-field color-valid">Nom</p>
                        <input class="form-control"  placeholder="Nom*" type="text"
                               #name="ngModel" id="name" name='name' required (ngModel)="name"
                               (keyup.enter)='submitForm(name.value,
                                                         adminAccess.status)'/>
                        <p [hidden]="name.valid || name.untouched" class="requred-field ">Champs requis</p>
                    </div>
                    <div class="control-group">
                        <label class="control control--checkbox">Accès Admin (entreprise + sites)
                            <input type="checkbox" checked="checked"
                                   #adminAccess="ngModel" id="adminAccess"
                                   name='adminAccess' (ngModel)="adminAccess" (change)='adminAccessClicked($event)'/>
                            <span class="control__indicator"></span>
                        </label>
                    </div>
                </form>
                <div *ngIf="errorCreating" style='position: fixed;' class="alert alert-danger">{{errorCreating}}
                    <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
                        <span aria-hidden="true"></span>
                    </button>
                </div>
                <div *ngIf="successCreating" style='position: fixed;' class="alert alert-success">{{successCreating}}</div>

                <div class="button-wrapper">
                    <button type="button" class="form-button red-button annuler-button" data-dismiss="modal"
                            (click)="myModal.close()"  (click)='gotoClientGroupesForm()'>Annuler</button>
                    <button type="submit" class="form-button green-button creer-button" data-dismiss="modal"
                            (click)='submitForm(name.value,
                                                adminAccess.checked)'
                            [disabled]="!client_newGroupesForm.form.valid">Créer</button>
                    <br>
                    <img *ngIf="loading" src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
                </div>

            </modal-content-CG>

            <modal-footer-CG>
            </modal-footer-CG>
        </client-groupes-modal>

        <div class="search-wrapper">
            <button class="search-button" type="button" (click)='findGroupByNameFunction(findGroupByName.value, 1)'></button>
            <input #findGroupByName id="findGroupByName" name='findGroupByName' type="text"
                   class="form-control search-input" placeholder="Rechercher"
                   (keyup.enter)='findGroupByNameFunction(findGroupByName.value, 1)'>
        </div>
    </div>
    <div class="table-wrapper">
        <table class="table-default groupe-de-salaries-table">
            <thead>
            <tr>
                <th><button class="single-sort-button"></button>Nom du groupe</th>
                <th>
                    <button class="double-sort-button">
                        <span></span>
                        <span></span>
                    </button>
                    <span>Accès</span>
                </th>
                <th>
                    <span>Action</span>
                </th>
            </tr>
            </thead>
            <tbody>
                <tr *ngFor="let groupe of groupes">
                    <td>{{groupe.name}}</td>
                    <td>{{groupe.access | adminAccess }}</td>
                    <!--<td>{{groupe.admin_access}}</td>-->
                    <td><a href="javascript:void(0);">Gérer</a> / <a href="javascript:void(0);">Supprimer</a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <nav aria-label="Page navigation" class="pagination-wrapper">
        <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
            <!--<li [ngClass]="{disabled:pager.currentPage === 1}">-->
            <li *ngIf="!(pager.currentPage === 1)">
                <a class="prev-link" (click)="findGroupByNameFunction('lineUp', pager.currentPage - 1)" aria-label="Previous" >
                  <span aria-hidden="true">
                    <img src="../../../../assets/img/pagination-arrow.png" alt="pagination-arrow">
                  </span>
                </a>
            </li>
            <li *ngIf="!pager.simplePagination" [ngClass]="{active:pager.currentPage === 1}">
                <a href="javascript:void(0);"  (click)="findGroupByNameFunction('lineUp', 1)" >1</a>
            </li>
            <li *ngIf="pager.hiddenAtStart">
                <a (click)="findGroupByNameFunction('lineUp', pager.startPage-1)"  >...</a>
            </li>

            <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                <a (click)="findGroupByNameFunction('lineUp', page)">{{page}}</a>
            </li>

            <li *ngIf="pager.hiddenAtEnd">
                <a (click)="findGroupByNameFunction('lineUp', pager.endPage+1)" >...</a>
            </li>
            <li *ngIf="!pager.simplePagination" [ngClass]="{active:pager.currentPage === pager.totalPages}">
                <a (click)="findGroupByNameFunction('lineUp', pager.totalPages)">{{pager.totalPages}}</a>
            </li>
            <li *ngIf="!(pager.currentPage === pager.totalPages)" >
                <a href="javascript:void(0);" aria-label="Next" class="next-link"
                   (click)="findGroupByNameFunction('lineUp', pager.currentPage + 1)">
                  <span aria-hidden="true">
                    <img src="../../../../assets/img/pagination-arrow.png" alt="pagination-arrow">
                  </span>
                </a>
            </li>
        </ul>
    </nav>
    <br>
    <img *ngIf="loading" style='position: absolute; left: 49%; bottom: 2%;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />


</div>