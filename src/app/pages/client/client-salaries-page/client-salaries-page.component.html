<header class="main-header">
    <div *ngIf="errorLoad" class="alert alert-danger alert-dismissible fade in" role="alert" style='position: absolute;'>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" (click)='cancellErrorMessage()'>
            <span aria-hidden="true"></span>
        </button>
        <p>SAFETY: <span>{{errorLoad}}</span></p>
    </div>

    <h1>Salariés</h1>
    <img *ngIf="loading" style='position: absolute; left:49.3%; bottom:15%;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />

</header>
<div class="main-content"  *ngIf='loaded'>

    <div class="search-panel clearfix">
        <img *ngIf="loadingSalarieUsed" style='position:absolute; left:112px; top:44px;' src="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH/C05FVFNDQVBFMi4wAwEAAAAh/hpDcmVhdGVkIHdpdGggYWpheGxvYWQuaW5mbwAh+QQJCgAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQJCgAAACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkECQoAAAAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkECQoAAAAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkECQoAAAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQJCgAAACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQJCgAAACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAkKAAAALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA==" />
        <p >Vous utilisez <span *ngIf="loadedSalarieUsed">{{salariesUsed}}/{{salariesMaxPossible}} </span>
                          <span *ngIf="!loadedSalarieUsed" class='error-message'>--/--</span>
            salariés disponibles
        </p>
        <div class="search-wrapper">
            <button class="search-button" type="button" (click)='findSalarieByNameFunction(findSalarieByName.value, 1)'></button>
            <input #findSalarieByName id="findSalarieByName" name='findSalarieByName' type="text"
                   class="form-control search-input" placeholder="Rechercher"
                   (keyup.enter)='findSalarieByNameFunction(findSalarieByName.value)'>
        </div>
    </div>
    <div  class="table-wrapper">
        <table class="table-default salaries-table">
            <thead>
            <tr>
                <th *ngFor="let header of headers" (click)="tableSortService.changeSorting(header.variable)">
                    <button [class]="tableSortService.selectedClass(header.variable)" ></button>
                    {{header.display}}
                </th>
                <th>
                    <span>Action</span>
                </th>
            </tr>
            </thead>
            <tbody >
                <tr *ngIf='emptyTable'>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                    <td>-</td>
                </tr>

                <tr *ngFor="let salarie of salaries">
                    <td>{{salarie.name}}</td>
                    <td>{{salarie.surname}}</td>
                    <td>{{salarie.numSecu}}</td>
                    <td>{{salarie.siteName}}</td>
                    <td>{{salarie.groupName}}</td>
                    <td>{{salarie.validityPeriod | validityPeriod}}</td>
                    <td><a href="javascript:void(0);">Gérer</a> / <a href="javascript:void(0);">Supprimer</a></td>
                </tr>
        </table>
    </div>
    <nav  aria-label="Page navigation" class="pagination-wrapper">
        <ul *ngIf="pager.pages && pager.pages.length" class="pagination">
            <li *ngIf="!(pager.currentPage === 1)">
                <a class="prev-link" (click)="findSalarieByNameFunction('lineUp', pager.currentPage - 1)" aria-label="Previous" >
                  <span aria-hidden="true">
                    <img src="../../../../assets/img/pagination-arrow.png" alt="pagination-arrow">
                  </span>
                </a>
            </li>
            <li *ngIf="!pager.simplePagination" [ngClass]="{active:pager.currentPage === 1}">
                <a href="javascript:void(0);"  (click)="findSalarieByNameFunction('lineUp', 1)" >1</a>
            </li>
            <li *ngIf="pager.hiddenAtStart">
                <a (click)="findSalarieByNameFunction('lineUp', pager.startPage-1)"  >...</a>
            </li>

            <li *ngFor="let page of pager.pages" [ngClass]="{active:pager.currentPage === page}">
                <a (click)="findSalarieByNameFunction('lineUp', page)">{{page}}</a>
            </li>

            <li *ngIf="pager.hiddenAtEnd">
                <a (click)="findSalarieByNameFunction('lineUp', pager.endPage+1)" >...</a>
            </li>
            <li *ngIf="!pager.simplePagination" [ngClass]="{active:pager.currentPage === pager.totalPages}">
                <a (click)="findSalarieByNameFunction('lineUp', pager.totalPages)">{{pager.totalPages}}</a>
            </li>
            <li *ngIf="!(pager.currentPage === pager.totalPages)" >
                <a href="javascript:void(0);" aria-label="Next" class="next-link"
                   (click)="findSalarieByNameFunction('lineUp', pager.currentPage + 1)">
                  <span aria-hidden="true">
                    <img src="../../../../assets/img/pagination-arrow.png" alt="pagination-arrow">
                  </span>
                </a>
            </li>
        </ul>
    </nav>
</div>

